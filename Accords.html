<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2575.4">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
  </style>
</head>
<body>
<p class="p1">&lt;!DOCTYPE html&gt;</p>
<p class="p1">&lt;html lang="fr"&gt;</p>
<p class="p1">&lt;head&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;meta charset="UTF-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;title&gt;Exercice d'orthographe&lt;/title&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;style&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>body {</p>
<p class="p1"><span class="Apple-converted-space">    </span>font-family: Arial, sans-serif;</p>
<p class="p1"><span class="Apple-converted-space">    </span>margin: 0;</p>
<p class="p1"><span class="Apple-converted-space">    </span>padding: 10px;</p>
<p class="p1"><span class="Apple-converted-space">    </span>line-height: 1.6;</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">textarea {</p>
<p class="p1"><span class="Apple-converted-space">    </span>width: 100%; /* Prend toute la largeur disponible */</p>
<p class="p1"><span class="Apple-converted-space">    </span>max-width: 100%; /* Limite à la largeur du conteneur */</p>
<p class="p1"><span class="Apple-converted-space">    </span>height: 200px; /* Hauteur réduite pour petits écrans */</p>
<p class="p1"><span class="Apple-converted-space">    </span>margin-bottom: 20px;</p>
<p class="p1"><span class="Apple-converted-space">    </span>font-size: 1em; /* Taille du texte relative pour adaptabilité */</p>
<p class="p1"><span class="Apple-converted-space">    </span>line-height: 1.5;</p>
<p class="p1"><span class="Apple-converted-space">    </span>resize: vertical; /* Permet à l'utilisateur d'ajuster la hauteur */</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">button {</p>
<p class="p1"><span class="Apple-converted-space">    </span>padding: 10px 20px;</p>
<p class="p1"><span class="Apple-converted-space">    </span>font-size: 1em;</p>
<p class="p1"><span class="Apple-converted-space">    </span>cursor: pointer;</p>
<p class="p1"><span class="Apple-converted-space">    </span>display: block; /* Met le bouton sur une nouvelle ligne */</p>
<p class="p1"><span class="Apple-converted-space">    </span>width: auto; /* Taille automatique du bouton */</p>
<p class="p1"><span class="Apple-converted-space">    </span>max-width: 100%;</p>
<p class="p1"><span class="Apple-converted-space">    </span>margin: 10px auto; /* Centre le bouton horizontalement */</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">.result {</p>
<p class="p1"><span class="Apple-converted-space">    </span>font-weight: bold;</p>
<p class="p1"><span class="Apple-converted-space">    </span>margin-top: 20px;</p>
<p class="p1"><span class="Apple-converted-space">    </span>word-wrap: break-word; /* Gère les longues chaînes de texte */</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">.incorrect {</p>
<p class="p1"><span class="Apple-converted-space">    </span>color: red;</p>
<p class="p1"><span class="Apple-converted-space">    </span>margin-bottom: 10px;</p>
<p class="p1"><span class="Apple-converted-space">    </span>font-size: 0.9em; /* Réduit la taille pour mieux s'adapter */</p>
<p class="p1">}<span class="Apple-converted-space">    </span>&lt;/style&gt;</p>
<p class="p1">&lt;/head&gt;</p>
<p class="p1">&lt;body&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;h1&gt;Texte à fautes&lt;/h1&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;p&gt;Corrigez les 10 erreurs dans cet extrait de Thérèse Raquin (Zola, 1868)</p>
<p class="p1">&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;textarea id="editableText"&gt;Ses pensées se déroulaient devant lui en spectacles réel. Les yeux fixé sur l’ombre, il voyait. Lorsqu’au bout de sa course dans les rue, après être entré dans le passage et avoir gravie le petits escalier, il crut apercevoir Thérèse, ardent et pâles, il sauta vivement de son lit, en murmurant : « Il faut que j’y aille, elle m’attend. » Le brusque mouvements qu’il venait de faire chassa l’hallucination : il sentit le froid du carreaux, il eut peur. Il resta un instant immobile, les pieds nus, écoutants.&lt;/textarea&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;button onclick="validate()"&gt;Valider&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div class="result" id="result"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;script&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>const correctText = `Ses pensées se déroulaient devant lui en spectacles réels. Les yeux fixés sur l’ombre, il voyait. Lorsqu’au bout de sa course dans les rues, après être entré dans le passage et avoir gravi le petit escalier, il crut apercevoir Thérèse, ardente et pâle, il sauta vivement de son lit, en murmurant : « Il faut que j’y aille, elle m’attend. » Le brusque mouvement qu’il venait de faire chassa l’hallucination : il sentit le froid du carreau, il eut peur. Il resta un instant immobile, les pieds nus, écoutant.`;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>function validate() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const userInput = document.getElementById("editableText").value.trim();</p>
<p class="p1"><span class="Apple-converted-space">            </span>const userWords = userInput.split(/\s+/); // Split by spaces or newlines</p>
<p class="p1"><span class="Apple-converted-space">            </span>const correctWords = correctText.split(/\s+/); // Split correct text the same way</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>let errorCount = 0;</p>
<p class="p1"><span class="Apple-converted-space">            </span>let output = "";</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// Compare word by word</p>
<p class="p1"><span class="Apple-converted-space">            </span>correctWords.forEach((word, index) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const userWord = userWords[index] || ""; // Handle missing words</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (userWord !== word) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>errorCount++;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>output += `&lt;div class="incorrect"&gt;Erreur : "${userWord || "(mot manquant)"}" | Correction : "${word}"&lt;/div&gt;`;</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const resultDiv = document.getElementById("result");</p>
<p class="p1"><span class="Apple-converted-space">            </span>const score = Math.max(10 - errorCount, 0); // Score on a scale of 10</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (errorCount === 0) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>resultDiv.innerHTML = `&lt;p&gt;Bravo, la correction est impeccable ! Score : 10/10&lt;/p&gt;`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                </span>resultDiv.innerHTML = `&lt;p&gt;Il reste ${errorCount} erreur${errorCount &gt; 1 ? "s" : ""}. Score : ${score}/10&lt;/p&gt;${output}`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/script&gt;</p>
<p class="p1">&lt;/body&gt;</p>
<p class="p1">&lt;/html&gt;</p>
</body>
</html>
